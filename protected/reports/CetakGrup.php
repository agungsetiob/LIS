<?php
 class CetakGrup extends pdf { function Header() { $this->Image("\151\155\x61\147\x65\163\x2f\154\157\x67\x6f\x2e\160\x6e\x67", 16, 8, 20); $this->Ln(5); $this->setFont("\x41\x72\x69\x61\154", '', 16); $this->Cell(0, 5, Pengaturan::item("\x6e\x61\x6d\x61\x5f\162\163"), 0, 0, "\103"); $this->setFont("\x41\x72\151\141\154", '', 16); $this->Ln(7); $this->Cell(0, 5, Pengaturan::item("\156\141\155\x61\137\x61\x70\160"), 0, 0, "\x43"); $this->setFont("\x41\162\151\x61\x6c", '', 12); $this->Ln(6); $this->Cell(0, 5, Pengaturan::item("\141\154\141\x6d\x61\x74\137\x72\163"), 0, 0, "\x43"); $y = $this->GetY() + 7; $this->Line(5, $y, 351, $y); $this->setFont("\x41\162\x69\141\x6c", "\125", 16); $this->Ln(10); $this->Cell(0, 5, "\x4c\x41\x50\x4f\122\x41\x4e\40\102\105\x52\x44\101\123\x41\x52\x4b\101\116\x20\107\x52\x55\120\x20\x50\105\115\105\122\111\113\123\x41\x41\x4e", 0, 0, "\x43"); $this->setFont("\101\x72\x69\x61\154", '', 16); $this->Ln(7); $this->Cell(0, 5, $this->supplier, 0, 0, "\x43"); $this->setFont("\x41\x72\x69\141\154", '', 10); $this->Ln(5); $this->Cell(8, 5, "\x50\x65\x72\x69\157\144\x65\x20\72\40" . $this->tawal . "\40\163\57\144\40" . $this->takhir, 0, 0, "\114"); $this->SetX(-20); $this->Cell(1, 5, "\110\x61\154\x20\x3a\40", 0, 0, "\114"); $this->SetX(-12); $this->Cell(1, 5, $this->PageNo() . "\x2f\x7b\156\142\175", 0, 0, "\114"); $this->Ln(5); $this->Cell(8, 5, "\116\157", 1, 0, "\x43"); $this->Cell(28, 5, "\x4e\x6f\x2e\40\114\141\142", 1, 0, "\x43"); $this->Cell(55, 5, "\x4e\x61\x6d\x61\40\x50\x61\x73\151\x65\x6e", 1, 0, "\x43"); $this->Cell(10, 5, "\112\x4b", 1, 0, "\x43"); $this->Cell(20, 5, "\125\155\x75\162\40\124\150\156", 1, 0, "\x43"); $this->Cell(109, 5, "\122\165\152\165\153\x61\x6e\x20\104\x6f\153\x74\x65\x72", 1, 0, "\103"); $this->Cell(35, 5, "\x50\x65\164\165\147\x61\x73\40\x4c\x61\x62", 1, 0, "\103"); $this->Cell(41, 5, "\x50\x61\162\141\x6d\x65\164\x65\x72", 1, 0, "\103"); $this->Cell(40, 5, "\110\x61\x73\x69\x6c", 1, 0, "\103"); $this->SetAutoPageBreak(true, 5); if ($this->PageNo() != 1) { $this->Ln(5); } } function Report($awal, $akhir, $item, $pilih) { $this->Ln(5); $this->setwidths(array(8, 28, 55, 10, 20, 109, 35, 41, 40)); $this->iscustomborder = True; $this->coldetailalign = array("\x43", "\103", "\114", "\x43", "\103", "\103", "\x4c", "\x4c", "\x43", "\x43"); $this->setbordercell(array("\x4c\x52", "\x4c\x52", "\x4c\122", "\114\122", "\x4c\x52", "\114\x52", "\x4c\122", "\114\x52", "\114\x52", "\114\x52")); $awal = Parameter::tglMySQL($awal); $akhir = Parameter::tglMySQL($akhir); $kode = Kode::model()->findByPk($item); $sql = "\123\x45\114\105\103\124\40\141\56\156\x6f\155\157\x72\54\40\143\56\156\141\x6d\x61\54\40\x63\x2e\156\x6f\x5f\162\155\54\40\x63\56\147\145\156\x64\x65\x72\x2c\x20\143\x2e\164\147\x6c\x5f\154\x61\150\151\x72\x2c\x20\x63\x2e\x73\164\141\x74\145\x2c\40\141\x2e\x69\144\137\144\157\x6b\164\145\x72\54\40\141\56\x69\x64\x5f\x70\145\164\x75\147\141\x73\54\40\x64\x2e\x6e\x61\155\x61\x20\x41\123\40\160\141\x72\141\155\x65\164\x65\162\x2c\x20\x62\56\116\x69\x6c\x61\151\x2c\40\x64\56\160\145\x6d\x62\165\154\x61\164\141\156\x20\x46\122\x4f\x4d\40\x70\145\x72\x69\153\x73\x61\40\x61\40\114\105\x46\124\40\x4a\117\x49\x4e\40\162\x65\163\165\154\x74\40\x62\40\117\116\40\x61\x2e\x6e\x6f\155\157\162\75\x62\x2e\x4b\x6f\x64\145\x50\141\164\151\x65\156\x74\40\114\x45\x46\x54\40\112\117\111\x4e\40\x70\141\x73\x69\x65\156\40\x63\40\x4f\x4e\x20\141\56\x69\144\x5f\x70\x61\x73\x69\145\156\75\x63\56\151\x64\x20\114\x45\x46\124\40\x4a\117\x49\x4e\x20\153\157\144\x65\40\x64\40\117\116\40\142\56\x4b\157\144\x65\x50\141\162\x61\155\141\x74\x65\162\75\144\56\154\x69\x73\40\127\110\x45\x52\105\40\x44\101\124\105\50\x61\x2e\164\x61\x6e\x67\147\141\154\x29\40\x42\105\x54\x57\x45\x45\116\x20\47{$awal}\x27\x20\x41\x4e\104\40\x27{$akhir}\x27\40\x41\x4e\x44\x20\141\56\163\164\141\164\x65\75\x27\x31\47\40\x41\x4e\x44\x20\142\x2e\x61\x63\x63\75\47\x31\x27"; $sql .= "\40\40\x41\116\x44\40\144\56\x67\162\x75\160" . $pilih . "\75\x27{$item}\x27"; $sql .= "\x20\x20\x4f\x52\104\x45\x52\40\x42\131\x20\x61\56\156\x6f\155\157\x72"; $no = 1; $nomor = ''; $model = Yii::app()->db->createCommand($sql)->queryAll(); foreach ($model as $data) { $y = $this->GetY(); if ($data["\160\x65\155\x62\165\x6c\x61\164\141\x6e"] == 0) { $nilai = round($data["\116\x69\x6c\141\x69"]); } else { if ($data["\x70\145\155\142\x75\154\141\164\x61\x6e"] == 99) { $nilai = $data["\116\151\x6c\141\x69"]; } else { $nilai = round($data["\x4e\x69\x6c\x61\151"], $data["\160\x65\x6d\142\x75\154\x61\x74\x61\156"]); } } if ($nomor != $data["\x6e\x6f\155\157\x72"]) { $this->row(array($no, $data["\x6e\157\x6d\x6f\x72"], $data["\156\141\155\x61"], Parameter::getGender($data["\147\145\x6e\x64\145\162"]), Pasien::umur2($data["\164\x67\x6c\x5f\x6c\141\x68\151\162"]), Dokter::item($data["\151\144\137\x64\157\x6b\164\145\x72"]), Petugas::item($data["\x69\x64\x5f\x70\145\x74\165\147\x61\163"]), $data["\x70\141\162\x61\x6d\x65\164\145\x72"], $nilai)); $no++; } else { $this->row(array('', '', '', '', '', '', '', $data["\x70\141\162\x61\155\x65\x74\145\162"], $nilai)); } $nomor = $data["\156\157\155\157\x72"]; if ($y == 195) { $this->Line(5, 205, 351, 205); } } $y = $this->GetY(); $this->Line(5, $y, 351, $y); } }